const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SubscriptionService-A6yQPL_6.js","assets/index-BI1Zh8jC.js","assets/react-vendor-wpuS94OW.js","assets/animation-vendor-DcM-v-LS.js","assets/index-B_HOrFLC.css","assets/HostService-Cowq0pLK.js"])))=>i.map(i=>d[i]);
import{u as z,j as e,F as k,T as f,_ as j,z as c}from"./index-BI1Zh8jC.js";import{e as T,d as S,r as b}from"./react-vendor-wpuS94OW.js";import{t as D}from"./TournamentService-C6zcdh7M.js";import{C}from"./chevron-left-BUQOO5Dj.js";import{S as N}from"./shield-UrmeYB5b.js";import{m as y}from"./animation-vendor-DcM-v-LS.js";import{S as E}from"./swords-de7hc2L9.js";import{Z as I}from"./zap-Bgyi282r.js";import{T as F}from"./target-CZRoh-Uz.js";import{I as A,M as L}from"./map-C34f4VT9.js";import{C as M}from"./clock-BatA4oMZ.js";import{I as P}from"./indian-rupee-W2Zd5mVq.js";import{L as _}from"./layout-grid-DcBtSVnA.js";import{A as R}from"./arrow-left-CF79Ni4S.js";const te=()=>{const{gameId:d}=T(),l=S(),{user:m,updateUserHostStatus:g}=z(),[x,v]=b.useState(!1);b.useEffect(()=>{(async()=>{if(!m)return;const{subscriptionService:n}=await j(async()=>{const{subscriptionService:o}=await import("./SubscriptionService-A6yQPL_6.js");return{subscriptionService:o}},__vite__mapDeps([0,1,2,3,4])),{hostService:h}=await j(async()=>{const{hostService:o}=await import("./HostService-Cowq0pLK.js");return{hostService:o}},__vite__mapDeps([5,1,2,3,4]));if(!(await n.getSubscriptionStatus()).isHost){c.loading("Activating Host Privileges...",{id:"host-activation"});try{(await h.activateHost()).success?(g(!0),c.success("You are now a Host!",{id:"host-activation"})):(c.error("Failed to activate host status",{id:"host-activation"}),l("/host/benefits"))}catch{l("/host/benefits")}}})()},[l,g,m]);const u={freefire:{name:"Free Fire",color:"#10b981",icon:F},bgmi:{name:"BGMI",color:"#fbbf24",icon:N},valorant:{name:"Valorant",color:"#ff4655",icon:I},minecraft:{name:"Minecraft",color:"#4ade80",icon:E}}[d||""]||{name:"Tournament",color:"#14b8a6",icon:f},[t,s]=b.useState({title:"",description:"",startDate:"",registrationDeadline:"",maxTeams:50,teamSize:1,entryFee:100,format:"solo",mapMode:"",totalMatches:1,prizeType:"winner",prizeFirst:60,prizeSecond:25,prizeThird:13,perKillAmount:0,matchTime:"",customLobbyId:"",teamSlots:0,matchCode:"",serverName:"",worldName:"",gameMode:"",maxPlayers:0}),w=async a=>{a.preventDefault(),v(!0);try{if(new Date(t.startDate)<=new Date)throw new Error("Deployment must be in the future");if(new Date(t.registrationDeadline)>=new Date(t.startDate))throw new Error("Registration must end before launch");const n=t.entryFee*t.maxTeams,h={name:t.title.trim(),game:d,mode:t.format,entryFee:Number(t.entryFee),prizePool:Number(n),maxSlots:Number(t.maxTeams),startTime:new Date(t.startDate),description:t.description,registrationDeadline:new Date(t.registrationDeadline),teamSize:Number(t.teamSize),prizeDistribution:t.prizeType==="winner"?{first:t.prizeFirst,second:t.prizeSecond,third:t.prizeThird}:void 0,perKillAmount:t.prizeType==="kill"?t.perKillAmount:0,mapMode:t.mapMode,totalMatches:t.totalMatches,gameRoomConfig:{customLobbyId:t.customLobbyId||void 0,teamSlots:t.teamSlots||void 0,matchCode:t.matchCode||void 0,serverName:t.serverName||void 0,worldName:t.worldName||void 0,gameMode:t.gameMode||void 0,maxPlayers:t.maxPlayers||void 0}};await D.createTournament(h),c.success("ARENA LIVE!",{style:{background:"#0E1424",border:"1px solid #14b8a6",color:"#fff",fontWeight:"black",textTransform:"uppercase",letterSpacing:"0.2em"}}),setTimeout(()=>{l("/host/dashboard")},1500)}catch(n){c.error(n instanceof Error?n.message:"Uplink Failed",{style:{background:"#0E1424",border:"1px solid #ef4444",color:"#fff"}})}finally{v(!1)}},r="w-full px-6 py-4 bg-[#18181b]/40 border border-white/5 rounded-2xl focus:outline-none focus:border-teal-500/30 transition-all text-white placeholder:text-zinc-700 font-bold",i="block text-[9px] font-black uppercase tracking-[0.3em] text-zinc-500 mb-2 ml-1";return e.jsxs("div",{className:"min-h-screen bg-[#0a0e1a] text-white pb-32 font-sans overflow-x-hidden",children:[e.jsx(k,{position:"top-center"}),e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-teal-500/5 blur-[120px]"}),e.jsx("div",{className:"absolute bottom-0 right-1/4 w-[600px] h-[400px] bg-cyan-600/5 blur-[120px]"})]}),e.jsxs("div",{className:"sticky top-0 z-50 bg-[#0a0e1a]/80 backdrop-blur-xl border-b border-white/5 p-4 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>l(-1),className:"p-2 hover:bg-white/5 rounded-xl transition-all group",children:e.jsx(C,{className:"text-zinc-500 group-hover:text-white",size:24})}),e.jsxs("h1",{className:"text-sm font-black uppercase tracking-[0.3em] italic flex items-center gap-2",children:[e.jsx(N,{size:18,className:"text-teal-400"}),"Forge New Arena"]}),e.jsx("div",{className:"w-10 h-10"})]}),e.jsx("div",{className:"relative z-10 max-w-5xl mx-auto px-4 pt-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[e.jsx("div",{className:"lg:col-span-4 space-y-8",children:e.jsxs(y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"sticky top-24 space-y-8",children:[e.jsxs("div",{className:"relative group w-fit",children:[e.jsx("div",{className:"absolute inset-0 bg-teal-500/20 blur-2xl opacity-50 group-hover:opacity-100 transition-opacity"}),e.jsx("div",{className:"relative p-6 rounded-[2rem] bg-[#0E1424] border border-white/10 shadow-2xl",children:e.jsx(u.icon,{className:"w-12 h-12",style:{color:u.color}})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-5xl font-black uppercase italic tracking-tighter leading-[0.9] text-white",children:[u.name," ",e.jsx("span",{className:"text-teal-500",children:"DEPLOYS"}),"."]}),e.jsx("p",{className:"text-zinc-500 font-bold text-base italic leading-relaxed",children:"Configure your battlefield parameters, set technical constraints, and broadcast to the elite sector."})]}),e.jsxs("div",{className:"p-8 rounded-[2.5rem] bg-[#0E1424]/40 border border-white/5 shadow-inner space-y-4",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-zinc-600 block",children:"Projected Bounty"}),e.jsx("div",{className:"text-5xl font-black italic tracking-tighter text-teal-400",children:t.entryFee===0?"FREE":`₹${(t.entryFee*(t.maxTeams||0)).toLocaleString()}`}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-teal-500 shadow-[0_0_8px_rgba(20,184,166,0.6)]"}),e.jsx("span",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-widest",children:"Live Pool Estimation"})]})]})]})}),e.jsx("div",{className:"lg:col-span-8",children:e.jsxs(y.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:w,className:"space-y-12",children:[e.jsx(p,{title:"Operational Intel",icon:e.jsx(A,{size:14}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:i,children:"Battle Designation (Title)"}),e.jsx("input",{type:"text",value:t.title,onChange:a=>s({...t,title:a.target.value}),placeholder:"e.g., SECTOR 7: QUANTUM STRIKE",className:r,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:i,children:"Combat Directives (Description)"}),e.jsx("textarea",{value:t.description,onChange:a=>s({...t,description:a.target.value}),placeholder:"Define engagement rules, technical limits, and reward structures...",rows:5,className:`${r} resize-none py-6`,required:!0})]})]})}),e.jsx(p,{title:"Deployment Window",icon:e.jsx(M,{size:14}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:i,children:"Battle Launch Time"}),e.jsx("input",{type:"datetime-local",value:t.startDate,onChange:a=>s({...t,startDate:a.target.value}),className:r,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:i,children:"Registration Cut-off"}),e.jsx("input",{type:"datetime-local",value:t.registrationDeadline,onChange:a=>s({...t,registrationDeadline:a.target.value}),className:r,required:!0})]})]})}),e.jsxs(p,{title:"Tactical Parameters",icon:e.jsx(_,{size:14}),children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:i,children:"Squad Protocol"}),e.jsxs("select",{value:t.format,onChange:a=>s({...t,format:a.target.value,teamSize:a.target.value==="solo"?1:a.target.value==="duo"?2:4}),className:`${r} appearance-none cursor-pointer`,children:[e.jsx("option",{value:"solo",children:"SOLO (1 UNIT)"}),e.jsx("option",{value:"duo",children:"DUO (2 UNITS)"}),e.jsx("option",{value:"squad",children:"SQUAD (4 UNITS)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:i,children:"Deployment Limit"}),e.jsx("input",{type:"number",value:t.maxTeams,onChange:a=>s({...t,maxTeams:parseInt(a.target.value)}),min:"2",max:"100",className:r,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:i,children:"Engagement Rounds"}),e.jsx("input",{type:"number",value:t.totalMatches,onChange:a=>s({...t,totalMatches:parseInt(a.target.value)}),min:"1",max:"10",className:r,required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:i,children:"Access Stake (Entry ₹)"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-zinc-700 w-4 h-4"}),e.jsx("input",{type:"number",value:t.entryFee,onChange:a=>s({...t,entryFee:parseInt(a.target.value)}),min:"0",className:`${r} pl-14`,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:i,children:"Area of Operation (Map)"}),e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-zinc-700 w-4 h-4"}),e.jsx("input",{type:"text",value:t.mapMode,onChange:a=>s({...t,mapMode:a.target.value}),placeholder:"ERANGEL / BIND / BERMUDA",className:`${r} pl-14`,required:!0})]})]})]})]}),e.jsxs(p,{title:"Bounty logic",icon:e.jsx(f,{size:14}),children:[e.jsxs("div",{className:"bg-teal-500/5 border border-teal-500/10 rounded-3xl p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("div",{className:"px-3 py-1 bg-teal-500 text-black font-black text-[9px] rounded-full uppercase",children:"Verified protocol"}),e.jsx("span",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest",children:"98% Deployment Pool • 2% Protocol (Cap ₹10)"})]}),e.jsx("p",{className:"text-[11px] font-bold text-zinc-500 italic leading-relaxed",children:"Free tournaments waive platform deductions. You are responsible for bounty provision."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[e.jsx("button",{type:"button",onClick:()=>s({...t,prizeType:"winner"}),className:`py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all border ${t.prizeType==="winner"?"bg-teal-500 border-teal-400 text-black shadow-lg shadow-teal-500/20":"bg-white/5 border-transparent text-zinc-500 hover:text-white"}`,children:"Placement Logic"}),e.jsx("button",{type:"button",onClick:()=>s({...t,prizeType:"kill"}),className:`py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all border ${t.prizeType==="kill"?"bg-teal-500 border-teal-400 text-black shadow-lg shadow-teal-500/20":"bg-white/5 border-transparent text-zinc-500 hover:text-white"}`,children:"Elimination Logic"})]}),t.prizeType==="winner"?e.jsxs("div",{className:"grid grid-cols-3 gap-6 animate-fadeIn",children:[e.jsxs("div",{children:[e.jsx("label",{className:i,children:"1st (%)"}),e.jsx("input",{type:"number",value:t.prizeFirst,onChange:a=>s({...t,prizeFirst:parseInt(a.target.value)||0}),className:r,min:"0",max:"98"})]}),e.jsxs("div",{children:[e.jsx("label",{className:i,children:"2nd (%)"}),e.jsx("input",{type:"number",value:t.prizeSecond,onChange:a=>s({...t,prizeSecond:parseInt(a.target.value)||0}),className:r,min:"0",max:"98"})]}),e.jsxs("div",{children:[e.jsx("label",{className:i,children:"3rd (%)"}),e.jsx("input",{type:"number",value:t.prizeThird,onChange:a=>s({...t,prizeThird:parseInt(a.target.value)||0}),className:r,min:"0",max:"98"})]})]}):e.jsxs("div",{className:"animate-fadeIn",children:[e.jsx("label",{className:i,children:"Elimination Bounty (₹ / Kill)"}),e.jsx("input",{type:"number",value:t.perKillAmount,onChange:a=>s({...t,perKillAmount:parseInt(a.target.value)||0}),className:r,min:"0",required:!0})]})]}),e.jsx("button",{type:"submit",disabled:x||t.prizeType==="winner"&&t.prizeFirst+t.prizeSecond+t.prizeThird!==98||t.prizeType==="kill"&&t.perKillAmount<=0,className:`w-full h-20 rounded-[2rem] font-black uppercase tracking-[0.4em] text-sm transition-all duration-500 flex items-center justify-center gap-4 shadow-3xl ${x?"bg-zinc-800":"bg-white text-black hover:bg-teal-500"} disabled:opacity-30 disabled:grayscale active:scale-[0.98] group`,children:x?e.jsx("div",{className:"w-6 h-6 border-4 border-teal-500/20 border-t-teal-500 rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:["Authorize & Deploy Arena ",e.jsx(R,{rotate:180,className:"group-hover:translate-x-2 transition-transform"})]})})]})})]})})]})},p=({title:d,icon:l,children:m})=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3 px-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-teal-500/10 flex items-center justify-center border border-teal-500/20 text-teal-400",children:l}),e.jsx("h3",{className:"text-[11px] font-black uppercase tracking-[0.4em] text-zinc-500 italic",children:d})]}),e.jsx("div",{className:"p-10 bg-[#0E1424]/40 backdrop-blur-3xl border border-white/5 rounded-[2.5rem] shadow-2xl",children:m})]});export{te as default};
