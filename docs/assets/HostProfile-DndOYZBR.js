import{j as e,T as C}from"./index-BI1Zh8jC.js";import{r as o,e as I,d as M}from"./react-vendor-wpuS94OW.js";import{T as E}from"./TournamentCard-CJWdgtbm.js";import{A as L,m}from"./animation-vendor-DcM-v-LS.js";import{X as O}from"./x-TGG6ZPAc.js";import{S as f}from"./star-CxJ_cYNy.js";import{S as F}from"./send-BLDoqAZd.js";import{t as G}from"./TournamentService-C6zcdh7M.js";import{u}from"./UserService-Ba7STw_o.js";import{A as $}from"./arrow-left-CF79Ni4S.js";import{S as k}from"./shield-UrmeYB5b.js";import{C as U}from"./calendar-BNeAeAFF.js";import{T as V}from"./trending-up-uCxCWmjX.js";import{C as _}from"./clock-BatA4oMZ.js";import{C as A}from"./circle-check-big-CvadS6Gn.js";import{A as B}from"./award-DNb1MSuH.js";import{M as Y}from"./message-square-BC04dgYS.js";import"./indian-rupee-W2Zd5mVq.js";import"./users-Doj8e7tS.js";import"./shield-check-BcfqPY-Y.js";import"./arrow-right-CJAg3w6b.js";import"./lock-Cscx1y43.js";const q=({isOpen:n,onClose:s,hostName:t,hostId:i,onSubmit:c})=>{const[l,p]=o.useState(0),[y,g]=o.useState(0),[h,d]=o.useState(""),[j,w]=o.useState(!1),N=async()=>{if(l===0){alert("Please select a rating");return}w(!0);try{await c(l,h),p(0),d(""),s()}catch{alert("Failed to submit rating. Please try again.")}finally{w(!1)}};return e.jsx(L,{children:n&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),e.jsxs(m.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-md bg-zinc-900 border border-white/10 rounded-3xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-teal-500/10 to-cyan-500/10 border-b border-white/5 p-6",children:[e.jsx("button",{onClick:s,className:"absolute top-6 right-6 w-8 h-8 rounded-lg bg-zinc-800/50 border border-white/5 flex items-center justify-center hover:bg-zinc-800 transition-colors",children:e.jsx(O,{className:"w-4 h-4 text-zinc-400"})}),e.jsx("h2",{className:"text-2xl font-black text-white italic pr-10",children:"RATE HOST"}),e.jsxs("p",{className:"text-sm font-bold text-zinc-400 mt-1",children:["How was your experience with ",t,"?"]})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest mb-3 block",children:"Your Rating"}),e.jsx("div",{className:"flex items-center justify-center gap-3 py-4",children:[1,2,3,4,5].map(x=>e.jsx("button",{type:"button",onClick:()=>p(x),onMouseEnter:()=>g(x),onMouseLeave:()=>g(0),className:"transition-all transform hover:scale-110 focus:outline-none",children:e.jsx(f,{className:`w-10 h-10 transition-colors ${x<=(y||l)?"fill-yellow-500 text-yellow-500":"text-zinc-700"}`})},x))}),l>0&&e.jsxs("p",{className:"text-center text-sm font-bold text-teal-400 mt-2",children:[l===1&&"Poor",l===2&&"Fair",l===3&&"Good",l===4&&"Very Good",l===5&&"Excellent"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest mb-2 block",children:"Feedback (Optional)"}),e.jsx("textarea",{value:h,onChange:x=>d(x.target.value),placeholder:"Share your experience with this host...",rows:4,className:"w-full px-4 py-3 bg-zinc-800/50 border border-white/5 rounded-xl text-white placeholder-zinc-500 focus:outline-none focus:border-teal-500/30 transition-colors resize-none",maxLength:500}),e.jsxs("p",{className:"text-xs text-zinc-600 mt-2 text-right",children:[h.length,"/500 characters"]})]}),e.jsxs("div",{className:"bg-zinc-800/30 rounded-xl p-4",children:[e.jsx("h4",{className:"text-xs font-black text-white uppercase tracking-wider mb-2",children:"Rating Guidelines"}),e.jsxs("ul",{className:"space-y-1 text-xs text-zinc-400",children:[e.jsx("li",{children:"• Be honest and constructive"}),e.jsx("li",{children:"• Rate based on tournament quality and fairness"}),e.jsx("li",{children:"• Your feedback helps improve the platform"})]})]})]}),e.jsxs("div",{className:"border-t border-white/5 p-6 flex gap-3",children:[e.jsx("button",{onClick:s,className:"flex-1 py-3 bg-zinc-800 hover:bg-zinc-700 rounded-xl font-black text-sm uppercase tracking-widest text-white transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:N,disabled:l===0||j,className:"flex-1 py-3 bg-teal-500 hover:bg-teal-400 rounded-xl font-black text-sm uppercase tracking-widest text-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsx(F,{className:"w-4 h-4"}),j?"Submitting...":"Submit"]})]})]})]})})};class W{async updateLFGStatus(s,t,i){try{const c={mode:t,setAt:new Date().toISOString(),autoExpireHours:i,expiresAt:i?new Date(Date.now()+i*60*60*1e3).toISOString():void 0};await u.updateProfile(s,{lfgStatus:c})}catch(c){throw c}}async clearLFGStatus(s){await this.updateLFGStatus(s,"not_available")}async checkLFGExpiry(s){const i=(await u.getProfile(s)).lfgStatus;if(!i||!i.expiresAt)return!1;const c=new Date,l=new Date(i.expiresAt);return c>l?(await this.clearLFGStatus(s),!0):!1}async calculateSkillMetrics(s){try{return{aggression:0,survival:0,teamImpact:0,consistency:0,clutchFactor:0,lastCalculated:new Date().toISOString()}}catch(t){throw t}}async getTrophyCabinet(s){try{return[]}catch{return[]}}async getActivityTimeline(s,t=10){try{return[]}catch{return[]}}async updateSignatureGame(s,t){try{await u.updateProfile(s,{signatureGame:{...t,lastUpdated:new Date().toISOString()}})}catch(i){throw i}}async getHostMetrics(s){try{return(await u.getProfile(s)).isVerifiedHost?{hostingRating:0,totalPrizeDistributed:0,tournamentsCompleted:0,activeTournaments:0,upcomingTournaments:0}:null}catch{return null}}async updateSocialLinks(s,t){try{await u.updateProfile(s,{socialLinks:t})}catch(i){throw i}}async updateClan(s,t,i){try{await u.updateProfile(s,{clanTag:t,clanLogo:i})}catch(c){throw c}}}const K=new W,je=()=>{const{id:n}=I(),s=M(),[t,i]=o.useState(null),[c,l]=o.useState([]),[p,y]=o.useState([]),[g,h]=o.useState(!0),[d,j]=o.useState("upcoming"),[w,N]=o.useState(!1);o.useEffect(()=>{x()},[n]);const x=async()=>{if(n){h(!0);try{const a=await u.getProfile(n),r=await K.getHostMetrics(n),P=(await G.getTournaments()).filter(b=>b.organizerId===n);if(l(P),r){const b={id:n,name:"Host",avatar:"",rating:r.hostingRating||0,reviewCount:0,tournamentsHosted:r.tournamentsCompleted+r.activeTournaments,verified:a.isVerifiedHost||!1,memberSince:new Date().toISOString(),stats:{totalTournaments:r.tournamentsCompleted+r.activeTournaments+r.upcomingTournaments,activeTournaments:r.activeTournaments,completedTournaments:r.tournamentsCompleted,totalParticipants:0,averageRating:r.hostingRating||0,successRate:0,responseTime:"N/A",cancellationRate:0}};i(b)}else{const b={id:n,name:"User",avatar:"",rating:0,reviewCount:0,tournamentsHosted:0,verified:!1,memberSince:new Date().toISOString(),stats:{totalTournaments:0,activeTournaments:0,completedTournaments:0,totalParticipants:0,averageRating:0,successRate:0,responseTime:"N/A",cancellationRate:0}};i(b)}y([])}catch{}finally{h(!1)}}},H=async(a,r)=>{},D=(()=>{const a={5:0,4:0,3:0,2:0,1:0};return p.forEach(r=>{a[r.rating]++}),a})(),z=p.length;if(g||!t)return e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500"})});const T=c.filter(a=>d==="upcoming"?a.status==="upcoming":d==="live"?a.status==="live":d==="completed"?a.status==="completed":!0);return e.jsxs("div",{className:"min-h-screen bg-black pb-24 animate-fadeIn bg-cyber-grid bg-fixed overflow-x-hidden",children:[e.jsx("div",{className:"fixed inset-0 pointer-events-none",children:e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[600px] h-[300px] bg-teal-500/10 blur-[120px] opacity-50"})}),e.jsxs("div",{className:"relative z-10 px-5 pt-8 pb-6 max-w-6xl mx-auto",children:[e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center gap-2 text-zinc-500 hover:text-white transition-all mb-7 group",children:[e.jsx($,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"text-[11px] font-black uppercase tracking-[0.2em]",children:"Back"})]}),e.jsx(m.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-zinc-900/60 to-zinc-950/80 backdrop-blur-3xl border border-white/5 rounded-3xl p-8 mb-8 shadow-2xl",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6 mb-6",children:[e.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-teal-500/20 to-cyan-500/20 border border-teal-500/30 flex items-center justify-center shadow-xl",children:e.jsx("span",{className:"text-4xl font-black text-teal-400",children:t.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[e.jsx("h1",{className:"text-3xl font-black text-white italic",children:t.name.toUpperCase()}),t.verified&&e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-teal-500/20 border border-teal-500/30",children:[e.jsx(k,{className:"w-4 h-4 text-teal-400"}),e.jsx("span",{className:"text-[9px] font-black text-teal-400 uppercase tracking-wider",children:"Verified Host"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(a=>e.jsx(f,{className:`w-5 h-5 ${a<=Math.round(t.rating)?"fill-yellow-500 text-yellow-500":"text-zinc-700"}`},a))}),e.jsx("span",{className:"text-2xl font-black text-white",children:t.rating.toFixed(1)}),e.jsxs("span",{className:"text-sm text-zinc-500",children:["(",t.reviewCount," reviews)"]})]}),e.jsxs("div",{className:"text-sm text-zinc-500 flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"Member since ",new Date(t.memberSince).toLocaleDateString("en-IN",{month:"long",year:"numeric"})]})]}),e.jsxs("div",{className:"flex items-center gap-6 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-black text-teal-400 italic",children:t.tournamentsHosted}),e.jsx("p",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-widest",children:"Tournaments"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-black text-teal-400 italic",children:t.stats.totalParticipants.toLocaleString()}),e.jsx("p",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-widest",children:"Players"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-black text-teal-400 italic",children:[t.stats.successRate,"%"]}),e.jsx("p",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-widest",children:"Success Rate"})]})]})]}),e.jsxs("button",{onClick:()=>N(!0),className:"px-6 py-3 bg-teal-500 hover:bg-teal-400 rounded-xl font-black text-sm uppercase tracking-widest text-black transition-all shadow-lg flex items-center gap-2",children:[e.jsx(f,{className:"w-4 h-4"}),"Rate Host"]})]})}),e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsx(v,{icon:e.jsx(C,{className:"w-5 h-5"}),label:"Completed",value:t.stats.completedTournaments,color:"teal"}),e.jsx(v,{icon:e.jsx(V,{className:"w-5 h-5"}),label:"Active",value:t.stats.activeTournaments,color:"teal"}),e.jsx(v,{icon:e.jsx(_,{className:"w-5 h-5"}),label:"Response Time",value:t.stats.responseTime,color:"teal"}),e.jsx(v,{icon:e.jsx(A,{className:"w-5 h-5"}),label:"Reliability",value:`${t.stats.successRate}%`,color:"teal"})]}),e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-teal-500/5 border border-teal-500/20 rounded-2xl p-6 mb-8",children:[e.jsxs("h3",{className:"text-sm font-black text-white uppercase tracking-wider mb-4 flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-teal-400"}),"Trust Indicators"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(S,{icon:e.jsx(A,{className:"w-4 h-4"}),text:"Platform Verified"}),e.jsx(S,{icon:e.jsx(B,{className:"w-4 h-4"}),text:"Top-Rated Host"}),e.jsx(S,{icon:e.jsx(k,{className:"w-4 h-4"}),text:"Payment Reliable"})]})]}),e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-zinc-900/60 backdrop-blur-3xl border border-white/5 rounded-2xl p-6 mb-8",children:[e.jsx("h3",{className:"text-lg font-black text-white italic mb-6",children:"RATING BREAKDOWN"}),e.jsx("div",{className:"space-y-3",children:[5,4,3,2,1].map(a=>{const r=D[a],R=z>0?r/z*100:0;return e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1 w-20",children:[e.jsx("span",{className:"text-sm font-bold text-zinc-400",children:a}),e.jsx(f,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"})]}),e.jsx("div",{className:"flex-1 h-2 bg-zinc-800/50 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-teal-500 to-cyan-500 rounded-full transition-all duration-1000",style:{width:`${R}%`}})}),e.jsx("span",{className:"text-sm font-bold text-zinc-500 w-16 text-right",children:r})]},a)})})]}),e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-zinc-900/60 backdrop-blur-3xl border border-white/5 rounded-2xl p-6 mb-8",children:[e.jsxs("h3",{className:"text-lg font-black text-white italic mb-6 flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5 text-teal-400"}),"PLAYER REVIEWS (",p.length,")"]}),e.jsx("div",{className:"space-y-4",children:p.slice(0,5).map(a=>e.jsxs("div",{className:"bg-zinc-950/40 rounded-xl p-4 border border-white/5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-white text-sm",children:a.userName}),e.jsx("div",{className:"flex items-center gap-1 mt-1",children:[1,2,3,4,5].map(r=>e.jsx(f,{className:`w-3 h-3 ${r<=a.rating?"fill-yellow-500 text-yellow-500":"text-zinc-700"}`},r))})]}),e.jsx("span",{className:"text-xs text-zinc-600",children:new Date(a.createdAt).toLocaleDateString("en-IN")})]}),a.feedback&&e.jsx("p",{className:"text-sm text-zinc-400 leading-relaxed",children:a.feedback})]},a.id))})]}),e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[e.jsx("h2",{className:"text-2xl font-black text-white italic mb-6",children:"HOSTED TOURNAMENTS"}),e.jsx("div",{className:"flex gap-8 border-b border-zinc-800/50 mb-6",children:["upcoming","live","completed"].map(a=>e.jsxs("button",{onClick:()=>j(a),className:`relative pb-3 font-black text-[11px] uppercase tracking-[0.2em] transition-all ${d===a?"text-teal-400":"text-zinc-500 hover:text-zinc-300"}`,children:[a,d===a&&e.jsx(m.div,{layoutId:"hostTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-teal-500 rounded-full"})]},a))}),T.length>0?e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 md:gap-8",children:T.map((a,r)=>e.jsx(E,{tournament:a,index:r,compact:!0},a.id))}):e.jsxs("div",{className:"text-center py-12 bg-zinc-900/40 rounded-2xl border border-white/5",children:[e.jsx(C,{className:"w-12 h-12 text-zinc-700 mx-auto mb-3"}),e.jsxs("p",{className:"text-zinc-500 font-bold",children:["No ",d," tournaments"]})]})]})]}),e.jsx(q,{isOpen:w,onClose:()=>N(!1),hostName:t.name,hostId:t.id,onSubmit:H})]})},v=({icon:n,label:s,value:t,color:i})=>e.jsxs("div",{className:"bg-zinc-900/60 backdrop-blur-3xl border border-white/5 rounded-2xl p-5 group hover:border-teal-500/30 transition-all",children:[e.jsx("div",{className:`flex items-center gap-2 mb-3 text-${i}-400`,children:n}),e.jsx("p",{className:"text-2xl font-black text-white italic mb-1",children:t}),e.jsx("p",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-widest",children:s})]}),S=({icon:n,text:s})=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-teal-500/10 rounded-lg border border-teal-500/20",children:[e.jsx("div",{className:"text-teal-400",children:n}),e.jsx("span",{className:"text-xs font-bold text-teal-300",children:s})]});export{je as default};
