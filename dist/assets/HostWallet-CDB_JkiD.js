import{u as j,i as f,j as e}from"./index-BI1Zh8jC.js";import{d as g,r as t}from"./react-vendor-wpuS94OW.js";import{A as N}from"./arrow-left-CF79Ni4S.js";import{m as i}from"./animation-vendor-DcM-v-LS.js";import{W as v}from"./wallet-Byq8_oQo.js";import{T as c}from"./trending-up-uCxCWmjX.js";import{C as w}from"./clock-BatA4oMZ.js";import{D as y}from"./dollar-sign-CamqD4A6.js";import{D as z}from"./download-DBjqv978.js";const R=()=>{const o=g(),{user:a}=j(),[r,d]=t.useState(0),[m,x]=t.useState(0),[l,E]=t.useState([]),[h,n]=t.useState(!0);t.useEffect(()=>{a&&b()},[a]);const b=async()=>{if(a?.uid)try{n(!0);const s=await f.getWallet(a.uid);d(s.balance||0),x(s.espoCoins||0)}catch{}finally{n(!1)}},u=s=>{switch(s){case"service_fee":return e.jsx(c,{className:"w-5 h-5 text-green-500"});case"deposit":return e.jsx(z,{className:"w-5 h-5 text-blue-500"});default:return e.jsx(y,{className:"w-5 h-5 text-yellow-500"})}};return e.jsx("div",{className:"min-h-screen bg-black text-white py-8 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("button",{onClick:()=>o("/host/dashboard"),className:"p-2 bg-zinc-900 rounded-full hover:bg-zinc-800 transition-colors",children:e.jsx(N,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black italic",children:"Host Wallet"}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"Your earnings and balances"})]})]}),h?e.jsx("div",{className:"text-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500 mx-auto"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[e.jsxs(i.div,{whileHover:{y:-4},className:"bg-gradient-to-br from-teal-500/20 to-emerald-500/20 border border-teal-500/30 p-8 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-teal-500/20 rounded-xl",children:e.jsx(v,{className:"w-6 h-6 text-teal-400"})}),e.jsx("span",{className:"text-sm font-bold text-teal-400",children:"CURRENT BALANCE"})]}),e.jsxs("div",{className:"text-4xl font-black mb-2",children:["₹",r.toLocaleString()]}),e.jsx("p",{className:"text-xs text-zinc-400",children:"Available for withdrawal"})]}),e.jsxs(i.div,{whileHover:{y:-4},className:"bg-gradient-to-br from-orange-500/20 to-red-500/20 border border-orange-500/30 p-8 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-orange-500/20 rounded-xl",children:e.jsx(c,{className:"w-6 h-6 text-orange-400"})}),e.jsx("span",{className:"text-sm font-bold text-orange-400",children:"TOTAL EARNED"})]}),e.jsxs("div",{className:"text-4xl font-black mb-2",children:["₹",m.toLocaleString()]}),e.jsx("p",{className:"text-xs text-zinc-400",children:"From tournament service fees"})]})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-6 mb-8",children:[e.jsx("h3",{className:"font-bold mb-2 text-blue-400",children:"How Host Earnings Work"}),e.jsxs("div",{className:"text-sm text-zinc-300 space-y-2",children:[e.jsxs("p",{children:["• You earn a ",e.jsx("span",{className:"font-bold text-orange-400",children:"2% platform service fee"})," from every completed tournament"]}),e.jsx("p",{children:"• Fees are automatically credited to your wallet when results are published"}),e.jsx("p",{children:"• 98% of the prize pool is distributed to winning players"}),e.jsx("p",{children:"• Withdraw earnings anytime once minimum threshold is reached"})]})]}),e.jsxs("div",{className:"bg-zinc-900/50 border border-white/5 rounded-xl p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Recent Transactions"}),l.length===0?e.jsxs("div",{className:"text-center py-10 text-zinc-500",children:[e.jsx(w,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No transactions yet"}),e.jsx("p",{className:"text-xs mt-1",children:"Earnings will appear here after completing tournaments"})]}):e.jsx("div",{className:"space-y-3",children:l.map((s,p)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-800/50 rounded-xl border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[u(s.type),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-sm",children:s.description}),e.jsx("div",{className:"text-xs text-zinc-500",children:new Date(s.createdAt).toLocaleString()})]})]}),e.jsxs("div",{className:`font-bold ${s.amount>0?"text-green-400":"text-red-400"}`,children:[s.amount>0?"+":"","₹",Math.abs(s.amount).toLocaleString()]})]},p))})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{disabled:r<500,className:"w-full py-4 bg-teal-500 hover:bg-teal-400 text-black font-black rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:r<500?"Minimum ₹500 required for withdrawal":"Withdraw Funds"})})]})]})})};export{R as default};
