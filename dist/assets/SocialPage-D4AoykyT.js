import{u as S,j as e}from"./index--b10zKEF.js";import{r as a,d as _}from"./react-vendor-wpuS94OW.js";import{L as z,S as L,p as w,P as R}from"./PostCard-B5FWFnvd.js";import{I,u as A}from"./uploadImage-_dQXOEeE.js";import{z as k}from"./index-CNUiO53a.js";import{m as c,A as g}from"./animation-vendor-DcM-v-LS.js";import{X as P}from"./x-ByfO-DNc.js";import{G as N}from"./globe-DOQG9IxB.js";import{L as U}from"./lock-BbG5lLOB.js";import{U as C}from"./user-Crfu7g3f.js";import{u as T}from"./UserService-DxS7x_ec.js";import{S as E}from"./search-D0vMK7kb.js";import{T as M}from"./trophy-BGopWeg1.js";import{C as F}from"./chevron-right-CLNVP4ML.js";import{P as $}from"./ParticlesBackground-DMR5guET.js";import{S as G}from"./shield-check-B7t6Kk0y.js";import{P as W}from"./plus-C1NsX3pj.js";import"./firebase-CrKjQ57N.js";import"./share-2-C4AXdlKf.js";const B=()=>{const{user:s}=S(),[t,i]=a.useState(""),[p,u]=a.useState(null),[b,v]=a.useState(null),[d,h]=a.useState("public"),[r,o]=a.useState(!1),f=a.useRef(null),x=l=>{const n=l.target.files?.[0];if(n){u(n);const y=new FileReader;y.onloadend=()=>{v(y.result)},y.readAsDataURL(n)}},m=()=>{u(null),v(null),f.current&&(f.current.value="")},j=async l=>{if(l.preventDefault(),!(!s||!t.trim())){o(!0);try{let n=null;p&&(n=await A(p)),await w.createPost(t,n,s.id,s.displayName||"Anonymous",s.photoURL||"",d),i(""),m(),k.success("Posted Successfully")}catch{k.error("Failed to post")}finally{o(!1)}}};return e.jsx(c.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-black/60 backdrop-blur-3xl border border-[var(--border)] rounded-[2.5rem] p-8 shadow-2xl relative overflow-hidden group",children:e.jsxs("form",{onSubmit:j,className:"space-y-8 relative z-10",children:[e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-[var(--border)] pb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-[1rem] bg-[var(--accent)]/10 p-[1px] border border-[var(--border)] overflow-hidden",children:s?.photoURL?e.jsx("img",{src:s.photoURL,alt:"",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-black flex items-center justify-center text-[var(--accent)] font-black text-xs",children:"U"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-[var(--text-primary)]",children:"New Post"}),e.jsxs("p",{className:"text-[8px] font-bold text-[var(--text-secondary)] uppercase tracking-[0.3em]",children:["@",s?.displayName||"user"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-[var(--accent)] shadow-[0_0_8px_var(--accent)]"}),e.jsx("span",{className:"text-[8px] font-black text-[var(--accent)] uppercase tracking-widest",children:"Ready"})]})]}),e.jsx("textarea",{value:t,onChange:l=>i(l.target.value),placeholder:"What's on your mind?",className:"w-full bg-transparent border-none focus:ring-0 text-[var(--text-primary)] placeholder-[var(--text-secondary)]/30 resize-none py-2 text-sm min-h-[100px] custom-scrollbar font-medium tracking-tight",disabled:r})]}),e.jsx(g,{children:b&&e.jsxs(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"relative rounded-[1.5rem] overflow-hidden border border-[var(--border)] aspect-video group/img shadow-2xl",children:[e.jsx("img",{src:b,alt:"Preview",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("button",{type:"button",onClick:m,className:"absolute top-4 right-4 p-2 bg-black/80 backdrop-blur-md rounded-xl text-white hover:bg-red-500 transition-all opacity-0 group-hover/img:opacity-100 shadow-xl border border-white/10",children:e.jsx(P,{size:18})})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-6 pt-6 border-t border-[var(--border)]",children:[e.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[e.jsx("button",{type:"button",onClick:()=>f.current?.click(),className:"p-4 bg-[var(--glass)] text-[var(--accent)] hover:bg-[var(--accent)] hover:text-[var(--bg-primary)] rounded-2xl transition-all border border-[var(--border)] hover:border-[var(--accent)] shadow-lg relative overflow-hidden group/btn",title:"Add Photo",children:e.jsx(I,{size:20})}),e.jsx("input",{type:"file",ref:f,onChange:x,accept:"image/*",className:"hidden"}),e.jsxs("div",{className:"flex bg-[var(--glass)] p-1.5 rounded-2xl border border-[var(--border)] w-full sm:w-auto",children:[e.jsxs("button",{type:"button",onClick:()=>h("public"),className:`flex-1 sm:flex-none px-4 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest flex items-center justify-center gap-2 transition-all duration-300 ${d==="public"?"bg-[var(--accent)] text-[var(--bg-primary)] shadow-[0_0_20px_rgba(0,255,194,0.4)]":"text-[var(--text-secondary)] hover:text-white"}`,children:[e.jsx(N,{size:14}),"PUBLIC"]}),e.jsxs("button",{type:"button",onClick:()=>h("private"),className:`flex-1 sm:flex-none px-4 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest flex items-center justify-center gap-2 transition-all duration-300 ${d==="private"?"bg-white text-[var(--bg-primary)] shadow-[0_0_25px_rgba(255,255,255,0.2)]":"text-[var(--text-secondary)] hover:text-white"}`,children:[e.jsx(U,{size:14}),"PRIVATE"]})]})]}),e.jsx("button",{type:"submit",disabled:r||!t.trim(),className:"w-full sm:w-auto px-10 py-4 bg-[var(--accent)] text-[var(--bg-primary)] rounded-[1.5rem] font-black uppercase text-[10px] tracking-[0.2em] flex items-center justify-center gap-3 hover:scale-105 active:scale-95 transition-all shadow-[0_10px_30px_rgba(0,255,194,0.3)] disabled:opacity-50 disabled:hover:scale-100 group/submit relative overflow-hidden",children:r?e.jsx(z,{size:18,className:"animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:16}),e.jsx("span",{children:"POST NOW"})]})})]})]})})},D=()=>{const{user:s}=S(),[t,i]=a.useState("all"),[p,u]=a.useState([]),[b,v]=a.useState([]),[d,h]=a.useState(!0),[r,o]=a.useState(!0);a.useEffect(()=>{h(!0);const x=w.subscribePublicPosts(20,m=>{u(m),h(!1)});return()=>x()},[]),a.useEffect(()=>{if(!s)return;o(!0);const x=w.subscribeUserPosts(s.id,20,m=>{v(m),o(!1)});return()=>x()},[s]);const f=({posts:x,loading:m,emptyMessage:j})=>m?e.jsx("div",{className:"space-y-6",children:[1,2].map(l=>e.jsx("div",{className:"bg-[var(--glass)] border border-[var(--border)] rounded-[2rem] h-48 animate-pulse shadow-xl"},l))}):x.length===0?e.jsxs(c.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"py-16 px-8 text-center rounded-[2rem] bg-black/40 border border-dashed border-[var(--border)] overflow-hidden relative shadow-2xl",children:[e.jsx("div",{className:"w-14 h-14 bg-[var(--accent)]/5 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-[var(--accent)]/10",children:e.jsx(N,{className:"w-6 h-6 text-[var(--accent)]/30"})}),e.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-[var(--text-secondary)]",children:"No Posts Yet"}),e.jsx("p",{className:"text-[10px] text-[var(--text-secondary)]/50 font-bold uppercase tracking-widest mt-2",children:j})]}):e.jsx("div",{className:"space-y-4",children:e.jsx(g,{mode:"popLayout",children:x.map((l,n)=>e.jsx(R,{post:l,index:n},l.id))})});return e.jsxs("div",{className:"max-w-xl mx-auto px-4 pb-20 relative",children:[e.jsxs("div",{className:"mb-12 relative group",children:[e.jsx("div",{className:"absolute -left-2 top-0 bottom-0 w-[1px] bg-gradient-to-b from-transparent via-[var(--accent)]/40 to-transparent"}),e.jsx(B,{}),e.jsx("div",{className:"absolute -right-2 top-0 bottom-0 w-[1px] bg-gradient-to-b from-transparent via-[var(--accent)]/40 to-transparent"})]}),e.jsxs("div",{className:"space-y-10",children:[e.jsxs("div",{className:"relative p-1 bg-black/60 rounded-2xl border border-[var(--border)] shadow-2xl overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-16 h-full bg-[repeating-linear-gradient(45deg,transparent,transparent_5px,rgba(0,255,194,0.03)_5px,rgba(0,255,194,0.03)_10px)] pointer-events-none"}),e.jsxs("div",{className:"flex relative z-10",children:[e.jsxs("button",{onClick:()=>i("all"),className:`flex-1 flex flex-col items-center justify-center gap-1 py-4 rounded-xl transition-all duration-500 relative ${t==="all"?"bg-[var(--accent)] text-[var(--bg-primary)] shadow-[0_0_25px_rgba(0,255,194,0.4)]":"text-[var(--text-secondary)] hover:text-white"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{size:14,className:t==="all"?"animate-pulse":""}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Global Feed"})]}),t==="all"&&e.jsx(c.div,{layoutId:"tab-glow",className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-8 h-[2px] bg-[var(--bg-primary)] rounded-full"})]}),e.jsx("div",{className:"w-[1px] bg-[var(--border)] my-3 mx-1"}),e.jsxs("button",{onClick:()=>i("mine"),className:`flex-1 flex flex-col items-center justify-center gap-1 py-4 rounded-xl transition-all duration-500 relative ${t==="mine"?"bg-white text-[var(--bg-primary)] shadow-[0_0_25px_rgba(255,255,255,0.2)]":"text-[var(--text-secondary)] hover:text-white"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{size:14,className:t==="mine"?"animate-pulse":""}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"My Posts"})]}),t==="mine"&&e.jsx(c.div,{layoutId:"tab-glow",className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-8 h-[2px] bg-[var(--bg-primary)] rounded-full"})]})]})]}),e.jsx("div",{className:"relative min-h-[400px]",children:e.jsx(g,{mode:"wait",children:e.jsx(c.div,{initial:{opacity:0,x:t==="all"?-10:10,filter:"blur(10px)"},animate:{opacity:1,x:0,filter:"blur(0px)"},exit:{opacity:0,x:t==="all"?10:-10,filter:"blur(10px)"},transition:{duration:.3,ease:"easeOut"},children:e.jsx(f,{posts:t==="all"?p:b,loading:t==="all"?d:r,emptyMessage:t==="all"?"Be the first to share something!":"You haven't posted anything yet."})},t)})})]})]})},O=()=>{const[s,t]=a.useState(""),[i,p]=a.useState([]),[u,b]=a.useState(!1),[v,d]=a.useState(!1),h=_();return a.useEffect(()=>{const r=setTimeout(async()=>{if(s.trim()){b(!0);try{const o=await T.searchUsers(s);p(o),d(!0)}catch(o){console.error("Search error:",o)}finally{b(!1)}}else p([]),d(!1)},500);return()=>clearTimeout(r)},[s]),e.jsxs("div",{className:"relative w-full max-w-md mx-auto z-50",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(E,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 group-focus-within:text-[#00ffc2] transition-colors"}),e.jsx("input",{type:"text",value:s,onChange:r=>t(r.target.value),placeholder:"Search users...",className:"w-full bg-white/5 border border-white/10 rounded-2xl py-3.5 pl-11 pr-4 text-sm font-medium focus:outline-none focus:border-[var(--accent)]/50 focus:bg-white/10 transition-all placeholder-[var(--text-secondary)]/30"}),s&&e.jsx("button",{onClick:()=>t(""),className:"absolute right-4 top-1/2 -translate-y-1/2 p-1 hover:bg-white/10 rounded-full transition-all",children:e.jsx(P,{className:"w-3 h-3 text-[var(--text-secondary)]"})})]}),e.jsx(g,{children:v&&(i.length>0||u)&&e.jsx(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute top-full mt-2 w-full bg-[var(--bg-secondary)] border border-[var(--border)] rounded-2xl overflow-hidden shadow-2xl backdrop-blur-xl z-50",children:e.jsx("div",{className:"max-h-[400px] overflow-y-auto custom-scrollbar p-2",children:u?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-[var(--accent)]"}),e.jsx("p",{className:"mt-2 text-xs text-[var(--text-secondary)] uppercase font-black tracking-widest",children:"Searching..."})]}):i.length>0?i.map(r=>e.jsxs(c.div,{whileHover:{backgroundColor:"rgba(255, 255, 255, 0.03)"},onClick:()=>h(`/profile/${r.uid}`),className:"flex items-center justify-between p-3 rounded-xl cursor-pointer transition-all group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#00ffc2] to-[#7c3aed] p-[1px]",children:e.jsx("div",{className:"w-full h-full rounded-full bg-[#18181b] flex items-center justify-center overflow-hidden",children:e.jsx(C,{className:"w-5 h-5 text-gray-400"})})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-bold text-white group-hover:text-[#00ffc2] transition-colors line-clamp-1",children:["@",r.username||"unknown"]}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-500 font-black uppercase tracking-tighter",children:[e.jsx(M,{className:"w-2.5 h-2.5 text-yellow-500"}),r.tournamentsWon," Wins"]}),e.jsx("div",{className:"w-1 h-1 rounded-full bg-white/10"}),e.jsxs("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:["₹",r.totalEarnings.toLocaleString()]})]})]})]}),e.jsx(F,{className:"w-4 h-4 text-gray-600 group-hover:text-white transition-all transform group-hover:translate-x-1"})]},r.uid)):e.jsx("div",{className:"p-8 text-center",children:e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"No agents found with that username."})})})})})]})},de=()=>e.jsxs(c.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-[var(--bg-primary)] text-[var(--text-primary)] pb-24 transition-colors duration-300 relative overflow-hidden",children:[e.jsx($,{}),e.jsxs("div",{className:"sticky top-0 z-50 bg-[var(--bg-primary)]/80 backdrop-blur-2xl border-b border-[var(--border)] px-4 py-4 flex items-center justify-between",children:[e.jsx("div",{className:"w-10"})," ",e.jsxs("div",{className:"text-sm font-black uppercase tracking-[0.3em] italic flex items-center gap-3",children:[e.jsx(G,{size:18,className:"text-[var(--accent)]"}),"Social Nexus"]}),e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[var(--accent)]/10 flex items-center justify-center border border-[var(--accent)]/20 shadow-lg shadow-[var(--accent)]/5",children:e.jsx(W,{size:20,className:"text-[var(--accent)]"})})]}),e.jsxs("div",{className:"max-w-xl mx-auto px-4 pt-10 pb-8 space-y-12 relative z-10",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("h1",{className:"text-5xl lg:text-6xl font-black italic uppercase tracking-tighter leading-none mb-2",children:["Global ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-b from-[var(--accent)] to-[#7c3aed]",children:"Feed"})]}),e.jsx("p",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase tracking-[0.4em]",children:"Connect • Share • Explore"})]}),e.jsx("div",{className:"relative group",children:e.jsx(O,{})})]}),e.jsx("div",{className:"relative z-10",children:e.jsx(D,{})})]});export{de as default};
