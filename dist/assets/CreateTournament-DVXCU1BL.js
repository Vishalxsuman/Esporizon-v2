import{j as e,T as f}from"./index--b10zKEF.js";import{e as b,d as j,r as p,L as v}from"./react-vendor-wpuS94OW.js";import{t as N}from"./TournamentService-B8OpG07i.js";import{F as y,z as x}from"./index-CNUiO53a.js";import{C as w}from"./chevron-left-DNGDApsb.js";import{m as c}from"./animation-vendor-DcM-v-LS.js";import{S as D}from"./swords-gb2oS0hT.js";import{Z as T}from"./zap-DmD6sY9k.js";import{S}from"./shield-sPsdbmlr.js";import{T as k}from"./trophy-BGopWeg1.js";const O=()=>{const{gameId:o}=b(),u=j(),[d,m]=p.useState(!1),l={freefire:{name:"Free Fire",color:"#00ffc2",icon:f},bgmi:{name:"BGMI",color:"#fbbf24",icon:S},valorant:{name:"Valorant",color:"#ff4655",icon:T},minecraft:{name:"Minecraft",color:"#4ade80",icon:D}}[o||""]||{name:"Tournament",color:"#00ffc2",icon:k},[a,r]=p.useState({title:"",description:"",startDate:"",registrationDeadline:"",maxTeams:50,teamSize:1,entryFee:100,format:"solo",mapMode:"",totalMatches:1,prizeFirst:60,prizeSecond:30,prizeThird:10}),h=async t=>{t.preventDefault(),m(!0);try{if(new Date(a.startDate)<=new Date)throw new Error("Start date must be in the future");if(new Date(a.registrationDeadline)>=new Date(a.startDate))throw new Error("Registration deadline must be before start date");const n={gameId:o,gameName:l.name,title:a.title,description:a.description,startDate:new Date(a.startDate),registrationDeadline:new Date(a.registrationDeadline),maxTeams:a.maxTeams,teamSize:a.teamSize,entryFee:a.entryFee,prizeDistribution:{first:a.prizeFirst,second:a.prizeSecond,third:a.prizeThird},format:a.format,mapMode:a.mapMode,totalMatches:a.totalMatches},g=await N.createTournament(n);x.success("Tournament LIVE!",{style:{background:"#09090b",border:`1px solid ${l.color}`,color:"#fff",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.1em"}}),setTimeout(()=>{u(`/tournament/${g.tournamentId}`)},1500)}catch(n){x.error(n instanceof Error?n.message:"Broadcast Failed",{style:{background:"#09090b",border:"1px solid #ef4444",color:"#fff"}})}finally{m(!1)}},i="w-full px-5 py-4 bg-[#18181b] border border-white/5 rounded-2xl focus:outline-none focus:border-white/20 transition-all text-white placeholder:text-gray-600 font-medium",s="block text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 mb-2 ml-1";return e.jsxs("div",{className:"min-h-screen bg-[#09090b] text-white py-12 px-4 selection:bg-[#00ffc2]/30",children:[e.jsx(y,{position:"top-right"}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs(v,{to:`/tournaments/${o}`,className:"inline-flex items-center text-xs font-bold uppercase tracking-widest text-gray-500 hover:text-white transition-colors mb-8 group",children:[e.jsx(w,{className:"w-4 h-4 mr-1 group-hover:-translate-x-1 transition-transform"}),"Back to Arena"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[e.jsx("div",{className:"lg:col-span-4",children:e.jsxs(c.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"sticky top-12",children:[e.jsx("div",{className:"inline-flex p-4 rounded-3xl bg-white/5 border border-white/10 mb-6",children:e.jsx(l.icon,{className:"w-10 h-10",style:{color:l.color}})}),e.jsxs("h1",{className:"text-4xl font-black uppercase italic tracking-tighter leading-none mb-4",children:["Host Your ",e.jsx("span",{style:{color:l.color},children:l.name})," Event"]}),e.jsx("p",{className:"text-gray-500 text-sm leading-relaxed mb-8",children:"Define the stakes, set the format, and broadcast your tournament to thousands of elite players."}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-5 rounded-[2rem] bg-[#18181b] border border-white/5",children:[e.jsx("div",{className:s,children:"Estimated Prize Pool"}),e.jsxs("div",{className:"text-3xl font-black italic tracking-tighter",style:{color:l.color},children:["₹",(a.entryFee*(a.maxTeams||0)).toLocaleString()]}),e.jsx("div",{className:"text-[10px] text-gray-600 font-bold uppercase mt-1",children:"Based on full registration"})]})})]})}),e.jsx("div",{className:"lg:col-span-8",children:e.jsxs(c.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:h,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-8 h-px bg-white/10"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-[#00ffc2]",children:"Basic Logistics"})]}),e.jsxs("div",{children:[e.jsx("label",{className:s,children:"Tournament Title"}),e.jsx("input",{type:"text",value:a.title,onChange:t=>r({...a,title:t.target.value}),placeholder:"e.g., SEASON 5: RADIANT CUP",className:i,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:s,children:"Battle Objectives (Description)"}),e.jsx("textarea",{value:a.description,onChange:t=>r({...a,description:t.target.value}),placeholder:"Rules, map info, and custom perks...",rows:4,className:`${i} resize-none`,required:!0})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-8 h-px bg-white/10"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-[#00ffc2]",children:"Deployment Window"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:s,children:"Battle Start Time"}),e.jsx("input",{type:"datetime-local",value:a.startDate,onChange:t=>r({...a,startDate:t.target.value}),className:i,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:s,children:"Registration Cut-off"}),e.jsx("input",{type:"datetime-local",value:a.registrationDeadline,onChange:t=>r({...a,registrationDeadline:t.target.value}),className:i,required:!0})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-8 h-px bg-white/10"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-[#00ffc2]",children:"Combat Mechanics"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:s,children:"Format"}),e.jsxs("select",{value:a.format,onChange:t=>r({...a,format:t.target.value,teamSize:t.target.value==="solo"?1:t.target.value==="duo"?2:4}),className:`${i} appearance-none cursor-pointer`,children:[e.jsx("option",{value:"solo",children:"SOLO"}),e.jsx("option",{value:"duo",children:"DUO"}),e.jsx("option",{value:"squad",children:"SQUAD"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:s,children:"Max Squads"}),e.jsx("input",{type:"number",value:a.maxTeams,onChange:t=>r({...a,maxTeams:parseInt(t.target.value)}),min:"2",max:"100",className:i,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:s,children:"Match Count"}),e.jsx("input",{type:"number",value:a.totalMatches,onChange:t=>r({...a,totalMatches:parseInt(t.target.value)}),min:"1",max:"10",className:i,required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:s,children:"Entry Stake (₹)"}),e.jsx("input",{type:"number",value:a.entryFee,onChange:t=>r({...a,entryFee:parseInt(t.target.value)}),min:"0",step:"50",className:i,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:s,children:"Combat Map/Mode"}),e.jsx("input",{type:"text",value:a.mapMode,onChange:t=>r({...a,mapMode:t.target.value}),placeholder:"BERMUDA / ERANGEL / BIND",className:i,required:!0})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-8 h-px bg-white/10"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-[#00ffc2]",children:"Loot Distribution (%)"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:s,children:"1st"}),e.jsx("input",{type:"number",value:a.prizeFirst,onChange:t=>r({...a,prizeFirst:parseInt(t.target.value)}),className:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:s,children:"2nd"}),e.jsx("input",{type:"number",value:a.prizeSecond,onChange:t=>r({...a,prizeSecond:parseInt(t.target.value)}),className:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:s,children:"3rd"}),e.jsx("input",{type:"number",value:a.prizeThird,onChange:t=>r({...a,prizeThird:parseInt(t.target.value)}),className:i})]})]}),e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsxs("div",{className:"text-[10px] font-bold text-gray-700 uppercase tracking-widest",children:["Total Yield: ",a.prizeFirst+a.prizeSecond+a.prizeThird,"%"]}),a.prizeFirst+a.prizeSecond+a.prizeThird!==100&&e.jsx("span",{className:"text-[10px] font-bold text-red-500 uppercase tracking-widest",children:"Must equal 100%"})]})]}),e.jsxs("button",{type:"submit",disabled:d||a.prizeFirst+a.prizeSecond+a.prizeThird!==100,className:"group relative w-full h-16 bg-white text-black font-black uppercase tracking-[0.3em] rounded-2xl overflow-hidden transition-all hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:grayscale shadow-[0_20px_40px_rgba(0,0,0,0.3)]",style:{borderBottom:`4px solid ${l.color}`},children:[e.jsx("div",{className:"absolute inset-0 translate-y-full group-hover:translate-y-0 transition-transform duration-500",style:{background:l.color}}),e.jsx("span",{className:"relative z-10 flex items-center justify-center gap-3",children:d?e.jsxs(e.Fragment,{children:[e.jsx(c.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-black border-t-transparent rounded-full"}),"TRANSMITTING..."]}):"BROADCAST EVENT"})]})]})})]})]})]})};export{O as default};
