import{j as e}from"./index--b10zKEF.js";import{r as x}from"./react-vendor-wpuS94OW.js";import{A as y,m as f}from"./animation-vendor-DcM-v-LS.js";import{X as w}from"./x-ByfO-DNc.js";const I=({isOpen:g,onClose:o,type:s,currentBalance:a,onSubmit:p})=>{const[d,c]=x.useState(""),[u,i]=x.useState(""),[m,b]=x.useState(!1),l=100,n=5e4,N=async t=>{t.preventDefault(),i("");const r=Number(d);if(!d||isNaN(r)){i("Please enter a valid amount");return}if(r<l){i(`Minimum amount is â‚¹${l}`);return}if(s==="add"&&r>n){i(`Maximum amount is â‚¹${n.toLocaleString("en-IN")}`);return}if(s==="withdraw"&&r>a){i("Insufficient balance");return}try{b(!0),await p(r),c(""),o()}catch(h){i(h instanceof Error?h.message:"Transaction failed")}finally{b(!1)}},j=s==="add"?[500,1e3,2e3,5e3]:[500,1e3,Math.floor(a/2),a];return e.jsx(y,{children:g&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:o,className:"absolute inset-0 bg-black/50 backdrop-blur-md"}),e.jsx(f.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-md",children:e.jsxs("div",{className:"glass-card-premium",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:s==="add"?"ðŸ’° Add Funds":"ðŸ’¸ Withdraw"}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(w,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-white/5 rounded-lg border border-white/10",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Current Balance"}),e.jsxs("p",{className:"text-2xl font-bold",style:{color:"#00ffc2"},children:["â‚¹",a.toLocaleString("en-IN")]})]}),e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"â‚¹"}),e.jsx("input",{type:"number",value:d,onChange:t=>c(t.target.value),placeholder:"0",className:"w-full pl-8 pr-4 py-3 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-[#00ffc2] transition-colors",min:l,max:s==="add"?n:a})]}),u&&e.jsx("p",{className:"mt-2 text-sm text-red-400",children:u})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Quick Select"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:j.map(t=>e.jsxs("button",{type:"button",onClick:()=>c(t.toString()),className:"px-3 py-2 bg-white/5 hover:bg-[#00ffc2]/10 border border-white/10 hover:border-[#00ffc2]/30 rounded-lg text-sm font-medium transition-colors",children:["â‚¹",t.toLocaleString("en-IN",{maximumFractionDigits:0})]},t))})]}),e.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 rounded-lg font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed",style:{background:m?"#666":"linear-gradient(135deg, #00ffc2 0%, #7c3aed 100%)",color:"#09090b"},children:m?"Processing...":s==="add"?"Add Funds":"Withdraw"})]}),e.jsx("div",{className:"mt-4 p-3 bg-white/5 rounded-lg border border-white/10",children:e.jsx("p",{className:"text-xs text-gray-400",children:s==="add"?`Min: â‚¹${l} â€¢ Max: â‚¹${n.toLocaleString("en-IN")}`:`Max: â‚¹${a.toLocaleString("en-IN")}`})})]})})]})})};export{I as W};
